export default function(obj) {
  const [firstName, lastName] = obj.name.split(" ");

  const today = new Date();
  const dateBirth = new Date(obj.dateBirth);
  const age = today.getFullYear() - dateBirth.getFullYear();
  const monthDif = today.getMonth() - dateBirth.getMonth();
  if (monthDif < 0 || (monthDif === 0 && today.getDate() < dateBirth.getDate())) {
    age--;
  }

  return {
    id: (Math.random() + 1).toString(36).substring(2),
    firstName: firstLetterToUpperCase(firstName),
    lastName: firstLetterToUpperCase(lastName),
    dateBirth: obj.dateBirth,
    age: String(age),
    purpose: firstLetterToUpperCase(obj.purpose)
  }
}

const firstLetterToUpperCase = str => str[0].toUpperCase() + str.slice(1).toLowerCase();